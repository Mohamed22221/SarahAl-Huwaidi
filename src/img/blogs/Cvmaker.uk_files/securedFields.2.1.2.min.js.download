
(function ( exports ) {

    /* THE BEGIN */

    var origin = "https://app.cvmaker.uk";
    var originKey = "pub.v2.2615580984660170.aHR0cHM6Ly9hcHAuY3ZtYWtlci51aw.ZXuJTbctD6vSfSRGosCNFNiLH_1z_RJTf4MLRuxYNkc";
    var genTime = "2022-03-08T11:53:37Z";
    var checkoutShopperUrl = "https://checkoutshopper-live.adyen.com/checkoutshopper/";
    var baseRequest = {
        token: originKey
    };

    var adyen = window.adyen = window.adyen || {};
    adyen.hooks = adyen.hooks || {};

    var noop = function () {
    };

    var shared = {}, __define = noop, __require = noop;


    /* THE MIDDLE */
!function(e){var o={};function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)n.d(t,i,function(o){return e[o]}.bind(null,i));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=3)}([function(e,o,n){"use strict";n.r(o);var t={cardBrand:"",eventSource:null,eventOrigin:null,txVariant:null,hasFocus:!1,storedEncryptedMonthObj:null,fieldHasError:!1,hasValidNumberField:!1,numFieldInErrorState:!1,hideCVC:!1},i={numKey:-1,fieldType:null,singleBrandedCard:"",recurringCardIndicator:"_r",cardGroupTypes:[],inputEl:null,dfValue:null},r=function(e){if(e.hasOwnProperty("action")&&""===e.action)window.__logVal2&&window.console&&window.console.log&&window.console.log("### messageSender::sendPostMessage:: ACTION NOT SET");else{e.fieldType=i.fieldType,e.numKey=i.numKey;var o=JSON.stringify(e);t.eventSource.postMessage(o,t.eventOrigin)}},a=/(android)/i.test(navigator.userAgent),l=function(){var e=navigator.userAgent,o=e.indexOf("MSIE ");if(o>0)return parseInt(e.substring(o+5,e.indexOf(".",o)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var t=e.indexOf("Edge/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);return!1}(),s=/iphone|ipod|ipad/i.test(navigator.userAgent),c=/(firefox)/i.test(navigator.userAgent);window._b$dl&&window.console&&window.console.log&&(window.console.log("### userAgent:::: isAndroid=",a),window.console.log("### userAgent:::: isIE=",l),window.console.log("### userAgent:::: __IS_IOS=",s),window.console.log("### userAgent:::: __IS_FIREFOX=",c));var d=a,u=l,p=s,w=c,g=function(){if(u&&u<=10){for(var e=[],o=0;o<16;o++)e.push(4294967296*Math.random()|0);return e}return null},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.prototype.toString;function h(e){return"object"===(void 0===e?"undefined":f(e))&&null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function y(e){return!1!==e&&function(e){return null!=e}(e)}window.console&&window.console.error&&window.console.error.bind(window.console),window.console&&window.console.info&&window.console.info.bind(window.console);var _=window.console&&window.console.log&&window.console.log.bind(window.console),v=window.console&&window.console.warn&&window.console.warn.bind(window.console),m=function(e,o){if(e)return e.querySelector(o)},C=function(e,o){return!(!e||!e.className)&&function(e,o){if(void 0===e)return!1;if("string"==typeof e)return e.indexOf(o)>-1;if(h(e))for(var n=e.length;n-- >0;)if(e[n]===o)return!0;return e.hasOwnProperty&&e.hasOwnProperty(o)}(e.className.split(/\s+/),o)},b=function(e,o,n){var t={enableValidations:!0};return t.randomBytes=o||null,t.stopDeviceFingerprint=n,e.cse=e.cse||adyen.createEncryption(t)},E=function(e,o,n,t){var i={},r={},a=e.getAttribute("data-encrypted-name");if(!a||""===a)return i.error='"data-encrypted-name" attribute not set on node',i;r[a]=e.value;var l=e.cse;l||v("No Encryption object exists for this html node. Encryption will not be possible. node=",e);var s=l.validate(r);r.generationtime=n;try{var c=l.encrypt(r,t);"false"===c||!1===c?(window._b$dl&&window.console&&window.console.log&&window.console.log("### DOM::_getEncryptedFormData:: CSE FAILED!!!!: validationResult=",s),s.hasOwnProperty("luhn")?i.luhn=!1:s.hasOwnProperty("cvc")?i.cvc=!1:s.hasOwnProperty("year")&&(i.date=!1),i.encryptionSuccess=!1):(window._b$dl&&window.console&&window.console.log&&window.console.log("### DOM::_getEncryptedFormData:: encryptionSuccess!!!!"),i.encryptionSuccess=!0,i[o]=c)}catch(e){window._b$dl&&window.console&&window.console.log&&window.console.log("### DOM::_getEncryptedFormData:: Encryption error:",e);var d=String(e);d&&d.toLowerCase().indexOf("not ready")>-1&&d.toLowerCase().indexOf("seeded")>-1&&window.console&&window.console.warn&&window.console.warn("### DOM::_getEncryptedData:: IE error!!!!! Not enough entropy generated to allow encryption process")}return i},O=function(e,o,n,t){if("function"==typeof e.addEventListener)e.addEventListener(o,n,t);else{if(!e.attachEvent)throw new Error(": Unable to bind "+o+"-event");e.attachEvent("on"+o,n)}},T=function(e){var o=i.inputEl,n=e;if(n&&-1===o.className.indexOf("js-chckt-input-field-error")&&(o.className+=" chckt-input-field--error",o.className+=" js-chckt-input-field-error"),!n){var t=void 0;o.className.indexOf("js-chckt-input-field-error")>-1&&(t=o.className.replace("chckt-input-field--error",""),o.className=t.trim(),t=o.className.replace("js-chckt-input-field-error",""),o.className=t.trim())}},S=function(e){var o=i.inputEl,n=e;if(n&&-1===o.className.indexOf("js-chckt-input-field-validated")&&(o.className+=" chckt-input-field--validated",o.className+=" js-chckt-input-field-validated"),n)i.inputEl.setAttribute("aria-invalid","false");else{var t=void 0;o.className.indexOf("js-chckt-input-field-validated")>-1&&(t=o.className.replace("chckt-input-field--validated",""),o.className=t.trim(),t=o.className.replace("js-chckt-input-field-validated",""),o.className=t.trim()),i.inputEl.setAttribute("aria-invalid","true")}},D={__HOSTED_NUMBER_FIELD_STR:"encryptedCardNumber",__HOSTED_DATE_FIELD_STR:"encryptedExpiryDate",__HOSTED_MONTH_FIELD_STR:"encryptedExpiryMonth",__HOSTED_YEAR_FIELD_STR:"encryptedExpiryYear",__HOSTED_CVC_FIELD_STR:"encryptedSecurityCode",__EXPIRY_MONTH_STR:"expiryMonth",__EXPIRY_YEAR_STR:"expiryYear"},I=function(e,o){switch(o){case"key":case"code":return"Backspace"===e||"Delete"===e?"delete":"ArrowLeft"===e?"leftarrow":"ArrowRight"===e?"rightarrow":" "===e||"Space"===e?"space":"Shift"===e||"ShiftRight"===e||"ShiftLeft"===e?"shift":"Tab"===e?"tab":"Unidentified"===e?"androidkeystroke":e;case"keyCode":case"which":return 8===e||46===e?"delete":37===e?"leftarrow":39===e?"rightarrow":32===e?"space":16===e?"shift":9===e?"tab":229===e?"androidkeystroke":String.fromCharCode(e);default:return e}},N=function(e){return window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationUtils::handleKeyPress::(line:20):: e=",e),void 0!==e.key?I(e.key,"key"):void 0!==e.code&&""!==e.code?I(e.code,"code"):e.keyCode>=0?I(e.keyCode,"keyCode"):void 0!==e.which&&I(e.which,"which")},R=function(e,o){var n=!0===o?"selectionEnd":"selectionStart";return n in e?e[n]:0},k=function(e,o,n){var t=n||o;e.setSelectionRange&&(e.focus(),e.setSelectionRange(o,t))},V="delete",F=void 0,j={__NO_BRAND:"noBrand",cards:[]};j.cards.push({cardType:"mc",startingRules:[51,52,53,54,55,22,23,24,25,26,27],permittedLengths:[16],pattern:/^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,securityCode:"CVC"});j.cards.push({cardType:"visadankort",startingRules:[4571],permittedLengths:[16],pattern:/^(4571)[0-9]{0,12}$/});j.cards.push({cardType:"visa",startingRules:[4],permittedLengths:[13,16,19],pattern:/^4[0-9]{0,18}$/,securityCode:"CVV"});j.cards.push({cardType:"amex",startingRules:[34,37],permittedLengths:[15],pattern:/^3[47][0-9]{0,13}$/,securityCode:"CID"});j.cards.push({cardType:"vias",startingRules:[9],permittedLengths:[16]});j.cards.push({cardType:"diners",startingRules:[36],permittedLengths:[14],pattern:/^(36)[0-9]{0,12}$/});j.cards.push({cardType:"maestrouk",startingRules:[6759],permittedLengths:[16,18,19],pattern:/^(6759)[0-9]{0,15}$/});j.cards.push({cardType:"solo",startingRules:[6767],permittedLengths:[16,18,19],pattern:/^(6767)[0-9]{0,15}$/});j.cards.push({cardType:"laser",startingRules:[6304,6706,677117,677120],permittedLengths:[16,17,18,19],pattern:/^(6304|6706|6709|6771)[0-9]{12,15}$/,cvcRequired:!1});j.cards.push({cardType:"discover",startingRules:[6011,644,645,646,647,648,649,65],permittedLengths:[16],pattern:/^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/});j.cards.push({cardType:"jcb",startingRules:[3528,3529,353,354,355,356,357,358],permittedLengths:[16,19],pattern:/^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,securityCode:"CAV"});j.cards.push({cardType:"bcmc",startingRules:[6703,479658,606005],permittedLengths:[16,17,18,19],pattern:/^((6703)[0-9]{0,15}|(479658|606005)[0-9]{0,13})$/,cvcRequired:!1,hideCVC:!0});j.cards.push({cardType:"bijcard",startingRules:[5100081],permittedLengths:[16],pattern:/^(5100081)[0-9]{0,9}$/});j.cards.push({cardType:"dankort",startingRules:[5019],permittedLengths:[16],pattern:/^(5019)[0-9]{0,12}$/});j.cards.push({cardType:"hipercard",startingRules:[606282],permittedLengths:[16],pattern:/^(606282)[0-9]{0,10}$/});j.cards.push({cardType:"cup",startingRules:[62,81],permittedLengths:[14,15,16,17,18,19],pattern:/^(62|81)[0-9]{0,17}$/});j.cards.push({cardType:"maestro",startingRules:[50,56,57,58,6],permittedLengths:[16,17,18,19],pattern:/^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,cvcRequired:!1});j.cards.push({cardType:"elo",startingRules:[506699,50670,50671,50672,50673,50674,50675,50676,506770,506771,506772,506773,506774,506775,506776,506777,506778,401178,438935,451416,457631,457632,504175,627780,636297,636368,651653,506728,509096,509083,509082,655001,650487,509081,509074,509066,431274,438935,457631,457632,506744,506747,506748,506753,509069,650906,506730,509067,655003,509068],permittedLengths:[16],pattern:/^((((506699)|(506770)|(506771)|(506772)|(506773)|(506774)|(506775)|(506776)|(506777)|(506778)|(401178)|(438935)|(451416)|(457631)|(457632)|(504175)|(627780)|(636368)|(636297))[0-9]{0,10})|((50676)|(50675)|(50674)|(50673)|(50672)|(50671)|(50670))[0-9]{0,11})$/});j.cards.push({cardType:"uatp",startingRules:[1],permittedLengths:[15],pattern:/^1[0-9]{0,14}$/,cvcRequired:!1});j.cards.push({cardType:"cartebancaire",startingRules:[4,5,6],permittedLengths:[16],pattern:/^[4-6][0-9]{0,15}$/});j.cards.push({cardType:"visaalphabankbonus",startingRules:[450903],permittedLengths:[16],pattern:/^(450903)[0-9]{0,10}$/});j.cards.push({cardType:"mcalphabankbonus",startingRules:[510099],permittedLengths:[16],pattern:/^(510099)[0-9]{0,10}$/});j.cards.push({cardType:"hiper",startingRules:[637095,637599,637609,637612],permittedLengths:[16],pattern:/^(637095|637599|637609|637612)[0-9]{0,10}$/});j.cards.push({cardType:"oasis",startingRules:[982616],permittedLengths:[16],pattern:/^(982616)[0-9]{0,10}$/,cvcRequired:!1});j.cards.push({cardType:"karenmillen",startingRules:[98261465],permittedLengths:[16],pattern:/^(98261465)[0-9]{0,8}$/,cvcRequired:!1});j.cards.push({cardType:"warehouse",startingRules:[982633],permittedLengths:[16],pattern:/^(982633)[0-9]{0,10}$/,cvcRequired:!1});j.cards.push({cardType:"mir",startingRules:[220],permittedLengths:[16,17,18,19],pattern:/^(220)[0-9]{0,16}$/});j.cards.push({cardType:"codensa",startingRules:[590712],permittedLengths:[16],pattern:/^(590712)[0-9]{0,10}$/});j.cards.push({cardType:"naranja",startingRules:[377798,377799,402917,402918,527571,527572,589562],permittedLengths:[16,17,18,19],pattern:/^(37|40|5[28])([279])\d*$/});j.cards.push({cardType:"cabal",startingRules:[589657,600691,603522,6042,6043,636908],permittedLengths:[16,17,18,19],pattern:/^(58|6[03])([03469])\d*$/});j.cards.push({cardType:"shopping",startingRules:[2799,589407,603488],permittedLengths:[16,17,18,19],pattern:/^(27|58|60)([39])\d*$/});j.cards.push({cardType:"argencard",startingRules:[501105],permittedLengths:[16,17,18,19],pattern:/^(50)(1)\d*$/});j.cards.push({cardType:"troy",startingRules:[9792],permittedLengths:[16],pattern:/^(97)(9)\d*$/});j.cards.push({cardType:"forbrugsforeningen",startingRules:[600722],permittedLengths:[16],pattern:/^(60)(0)\d*$/});var L={detectCard:function(e,o){var n=void 0,t=void 0,i=void 0;if(o){if((n=j.cards.filter(function(e){return o.includes(e.cardType)}).filter(function(o){return o.hasOwnProperty("pattern")&&e.match(o.pattern)})).length){if(1===n.length)return n[0];for(t=0,i=n.length;t<i;t++)if(!n[t].longestRule){var r=n[t].startingRules.reduce(function(e,o){return e>o?e:o});n[t].longestRule=String(r).length}return n.reduce(function(e,o){return e.longestRule>=o.longestRule?e:o})}return{cardType:j.__NO_BRAND}}return{cardType:j.__NO_BRAND}},detectCardLength:function(e,o){var n=void 0,t=void 0,i=0,r=!1,a=e.cardType!==j.__NO_BRAND?e.permittedLengths[e.permittedLengths.length-1]:0;if(a&&o>a&&(i=o.length-a)>0&&(t=o=o.substring(0,o.length-i)),e.permittedLengths.forEach(function(e){o.length===e&&(r=!0)}),o.length===a){var l=Math.floor(o.length/4);n=a+(o.length%4>0?l:l-1),"amex"===e.cardType.toLowerCase()&&(n=a+2)}return{shortenedNewValue:t,maxLength:n,reachedValidLength:r}},getShortestPermittedCardLength:function(){if(!F){var e=[];j.cards.forEach(function(o){e=e.concat(o.permittedLengths)}),F=Math.min.apply(null,e)}return F},getCardByBrand:function(e){return j.cards.filter(function(o){return o.cardType===e})[0]},__NO_BRAND:j.__NO_BRAND},P={},M=function(e){var o=e;if(isNaN(parseInt(o,10)))return!1;var n=o.length,t=1&n,i=0;if(void 0===P[o]){for(var r=0;r<n;r++){var a=parseInt(o.charAt(r),10);1&r^t||(a*=2)>9&&(a-=9),i+=a}P[o]=i%10==0}return P[o]},B=function(e,o){var n=o||"some";return 1===e.length&&"number"==typeof parseInt(e)?n+"KeyPressed":e},A=function(e){return e.replace(/[\uFF10-\uFF19]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})},x=function(e){return/[\uFF10-\uFF19]/g.test(e)},H=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$=!1,U=!1,G="",K=!1,q=void 0,X=void 0,z=0,J="",W=function(e,o,n,t){if("string"===(void 0===q?"undefined":Y(q)).toLowerCase()||q){$=!1;var r=o.value;x(r)&&(r=A(r));var a=ie(r),l=void 0,s=!1,c=!1;z=void 0;var d=n||[],u={};window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCNumber::inputCC:: currentVal=",r),window.console.log("### validationsCCNumber::inputCC:: currentValueStripped=",a),window.console.log("### validationsCCNumber::inputCC:: Config.singleBrandedCard=",i.singleBrandedCard),window.console.log("### validationsCCNumber::inputCC:: cardGroupTypes=",d)),U&&a===ie(q)&&(c=!0);var p=void 0,w=void 0;if(""!==i.singleBrandedCard?(p=L.getCardByBrand(i.singleBrandedCard),w=L.detectCard(a.substr(0,7),d),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCNumber::inputCC:: SINGLE BRAND cardType=",p.cardType),window.console.log("### validationsCCNumber::inputCC:: SINGLE BRAND potentialCard=",w.cardType)),a.length>7&&w.cardType!==p.cardType&&(u=Z(!0,o,"Typed card number doesn't match card type",u),p={cardType:L.__NO_BRAND})):(p=L.detectCard(a.substr(0,7),d),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: DETECTING CARD BASED ON=",a.substr(0,7))),K="amex"===p.cardType.toLowerCase(),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCNumber::inputCC:: card2.cardType=",p.cardType),window.console.log("### validationsCCNumber::inputCC:: __isAmex=",K)),l=te(a),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: newValue (masked)=",l," length=",l.length),z=X-re(X)+re(X+(l.length-q.length))+(ie(l).length-ie(q).length),window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCNumber::inputCC:: __newCursorPosition=",z),p.cardType!==L.__NO_BRAND){var g=L.detectCardLength(p,a);l=g.shortenedNewValue?te(g.shortenedNewValue):l,o.maxLength=g.maxLength||o.maxLength,s=g.reachedValidLength,u=Z(!1,o,"",u);var f=!(!1===p.cvcRequired);u=oe(p.cardType,o,n,f,p.hideCVC||!1,u),u=ne(p.cardType,o,n,p.securityCode,u)}else""===i.singleBrandedCard?(u=ee(o,d,u),u=Z(!1,o,"",u),a.length>=L.getShortestPermittedCardLength()&&(s=!0)):window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: SINGLE BRAND - number doesn't match card type");s&&($=!0,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: __isValidCardNumber=",$)),""!==l?(U&&z===l.length&&" "===ae(l)&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: del/ends in sep/cursor at end"),l=le(l)),s&&" "===ae(l)&&(l=le(l)),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: (OUTCOME 1) set new value=",l),o.value=l):(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: (OUTCOME 2) clear field"),o.value="",u=Z(!1,o,"",u),(u=ee(o,d,u)).action=G),c&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: DELETED A SPACE - adjust cursor pos"),z-=1),z<0&&(z=0,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: __newCursorPosition < 0, correcting to=",z)),(z||U&&0===z)&&(t&&!U&&(z=o.value.length),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: SETTING CURSOR POS =",z),k(o,z)),u.action=B(G,"number");var h=ie(l),y=h.substr(0,6);return J!==y&&(u.binValue=y,J=y),u.endDigits=$?h.substring(h.length-4):"",window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::inputCC:: RETURNING COMM OBJ = ",u),o.maxLength=24,u}},Q=function(e,o){var n=ie(e.value),t=L.detectCard(n,o);window.__logVal2&&window.console&&window.console.log&&window.console.log("@@@ validationsCCNumber::isValidLength:: card.cardType=",t.cardType);var i=!1;return t.cardType!==L.__NO_BRAND?t.permittedLengths.forEach(function(e){n.length===e&&(i=!0)}):n.length>=L.getShortestPermittedCardLength()&&(i=!0),i},Z=function(e,o,n,t){var i=H({},t);return i.error=n,i},ee=function(e,o,n){var t=H({},n);return t=oe(null,e,o,!0,!1,t),t=ne(null,e,o,null,t)},oe=function(e,o,n,t,i,r){var a=H({},r);if(!n)return a;if(1===n.length)return a.brand=e,a;var l="card@2x.png";return null!==e&&(l=e+"@2x.png"),a.brand=e||"card",a.imageSrc=l,a.cvcRequired=t,a.hideCVC=i,a},ne=function(e,o,n,t,i){var r=H({},i);return n&&1!==n.length?(r.maxLength=3,r.cvcText=t||"Security_code","amex"===e&&(r.maxLength=4),r):r},te=function(e){window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCNumber::mask:: value=",e),window.console.log("### validationsCCNumber::mask:: __isAmex=",K));var o=e.replace(/(\d{4})/g,"$1 ");return K&&(e.length>=8&&(o=e.replace(/(\d{4})/,"$1 ")),e.length>=10&&(o=e.replace(/(\d{4})(\d{6})/g,"$1 $2 "))),o},ie=function(e){return e.replace(/[^\d]/g,"")},re=function(e){var o=0;return K?(e>=5&&(o=1),e>=12&&(o=2)):o=Math.floor(e/5),window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCNumber::checkSeparator:: position=",e),window.console.log("### validationsCCNumber::checkSeparator:: __isAmex=",K),window.console.log("### validationsCCNumber::checkSeparator:: numSeps=",o)),o},ae=function(e){return e.charAt(e.length-1)},le=function(e){return e.substr(0,e.length-1)},se=function(e,o){q=o.value,X=R(o,!0);var n=N(e);U=n===V,G=n,o.maxLength=24,window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n--------------------"),window.console.log("### validationsCCNumber::keyDownCCNumber:: __oldValue=",q),window.console.log("### validationsCCNumber::keyDownCCNumber:: __oldValue.length=",q.length),window.console.log("### validationsCCNumber::keyDownCCNumber:: __oldCursor=",X),window.console.log("### validationsCCNumber::keyDownCCNumber:: __deleteKeyPressed=",U))},ce=W,de=function(e,o,n){return U&&u&&9===u?W(0,o,n):null},ue=function(e,o){z===o.value.length&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCNumber::keyUpCCNumber:: setting cursor pos =",z),k(o,z))},pe=function(e,o){var n=void 0,t=ie(e.value);if(Q(e,o)){window._b$dl&&window.console&&window.console.log&&window.console.log("\n@@@ validationsCCNumber::doLuhnCheck:: PERFORMING LUHN CHECK");var i=M(t);n={action:"luhnCheck",error:i?"":"luhn check failed",valid:i}}return n},we=function(){return $},ge=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=!1,ye="",_e=!1,ve=void 0,me=void 0,Ce=0,be=0,Ee=!1,Oe=function(e){var o=new Date(e);if(isNaN(o)){window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCDate::getCurrentDate:: IE8 currentDate is NaN");var n=genTime.substring(0,genTime.length-1),t=n.split("T");n=t[0].split("-");var i=t[1].split(":");o=new Date(n[0],n[1]-1,n[2],i[0],i[1],i[2])}return o},Te=function(e,o,n,t){var i=ge({},t);return i.error=n,i},Se=function(e,o,n){var t=e.parentNode.getElementsByTagName("input");[].forEach.call(t,function(e){"expiryMonth"===e.getAttribute("data-encrypted-name")&&(e.value=o),"expiryYear"===e.getAttribute("data-encrypted-name")&&void 0!==n&&(e.value=n)})},De=function(e){var o=e.substr(0,2),n=e.substr(2,4);return window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::mask:: monthVal=",o),window.console.log("### validationsCCDate::mask:: yearVal=",n)),o.length?o+"/"+n:""},Ie=function(e){var o=e.split("/"),n=[];if(o.forEach(function(e){if(""!==e){var o=e.replace(/[^\d]/g,"");n.push(o)}}),2===n.length&&1===n[0].length){var t=n[1].substr(0,1);n[0]=n[0]+t,n[1]=n[1].substr(1),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::unmask:: M & Y but M is single digit"),be=2}return n},Ne=function(e){var o=Math.floor(e/3);return window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCDate::checkSeparator:: num of Seps=",o),o},Re=function(e){return e.charAt(e.length-1)},ke=function(e,o){var n=o||1;return e.substr(0,e.length-n)},Ve=function(e){return me-Ne(me)+Ne(me+(e.length-ve.length))+(Ie(e).join("").length-Ie(ve).join("").length)},Fe=function(e,o){ve=o.value,me=R(o,!0);var n=N(e);he=n===V,ye=n,window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCDate::keyDownDate:: keyPressed=",n)},je=function(e,o){if("string"===(void 0===ve?"undefined":fe(ve)).toLowerCase()||ve){var n=o.value;x(n)&&(n=A(n));var t=Ie(n),i=void 0;Ce=void 0,_e=!1,Ee=!1,1===ve.length&&"/"===Re(n)&&(Ee=!0);var r={},a=Oe(genTime);window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCDate::inputDate:: __oldValue=",ve),window.console.log("### validationsCCDate::inputDate:: currentVal=",n),window.console.log("### validationsCCDate::inputDate:: __isValidExpiryDate=",_e),window.console.log("### validationsCCDate::inputDate:: currentValueArr=",t));var l,s=void 0,c=void 0,d=void 0,u=void 0;if(s=t[0]||"",c=t[1]||"",s.length>2&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCDate::inputDate:: typedMonth.length > 2"),c=(c=s.substr(2)+c).substr(0,2),s=s.substr(0,2),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::inputDate:: typedMonth.length > 2 new typedMonth=",s),window.console.log("### validationsCCDate::inputDate:: typedMonth.length > 2 new typedYear=",c))),l=Number(s),1===s.length&&(window.__logVal2&&window.console&&window.console.log&&(window.console.log("### FLAG!!! validationsCCDate::inputDate:: typedMonth.length === 1"),window.console.log("### validationsCCDate::inputDate:: dateNum=",l)),(l>=2&&l<=9||Ee)&&(s="0"+l,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: typedMonth.length === 1 new typedMonth=",s))),2===s.length&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCDate::inputDate:: typedMonth.length === 2"),0===l&&(s="01"),l>12&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCDate::inputDate:: dateNum > 12"),c=(c=s.substr(1)+c).substr(0,2),s="0"+s.substr(0,1),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::inputDate:: dateNum > 12 adj typedMonth=",s),window.console.log("### validationsCCDate::inputDate:: dateNum > 12 adj typedYear=",c)))),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: typedYear=",c),c&&2===c.length){var p=a.getFullYear();u=Number("20"+c),d=Number(s);var w=new Date(u,d-1),g=a.setMonth(a.getMonth()-3);if(w.getTime()<g)return window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::inputDate:: CARD TOO OLD!!"),window.console.log("### validationsCCDate::inputDate:: CARD TOO OLD typedMonth=",s),window.console.log("### validationsCCDate::inputDate:: CARD TOO OLD typedYear=",c)),i=De(s+c),o.value=i,(r=Te(!0,o,"Expiry Date validation: card too old",r)).action=B(ye,"date"),r;if(window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::inputDate:: currentYear=",p),window.console.log("### validationsCCDate::inputDate:: yearNum=",u)),u>p+15)return i=De(s+c),o.value=i,(r=Te(!0,o,"Expiry Date validation: expiryDate too far in future",r)).action=B(ye,"date"),r}i=De(s+c),window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCDate::inputDate:: newValue (masked)=",i," length=",i.length),2===i.length&&"/"===Re(i)&&(i=ke(i,1),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: newValue was single month digit so recalc newValue=",i)),Ce=Ve(i),window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCDate::inputDate:: __newCursorPosition=",Ce),window.console.log("### validationsCCDate::inputDate:: currentVal.length=",n.length)),""!==i&&(he&&R(o)===n.length&&(window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCNumber2::inputDate:: deleting from end"),window.console.log("### validationsCCNumber2::inputDate:: fieldUtils.getCaretPos(pNode)=",R(o))),2===R(o)&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: just deleted separator"),i=ke(i,2),Ce=Ve(i),window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCDate::inputDate:: __newCursorPosition recalc=",Ce))),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: set new value=",i)),r=Te(!1,o,"",r),o.value=i,be&&(k(o,Ce=be),be=0,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::inputDate:: Setting cursor pos")),5===i.length&&(_e=!0);var f=(t=Ie(i))[0]&&2===t[0].length?t[0]:"",h=t[1]&&2===t[1].length?"20"+t[1]:"";return Se(o,f,h),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCDate::inputDate:: __setHiddenDateFields month=",f),window.console.log("### validationsCCDate::inputDate:: __setHiddenDateFields year=",h)),he=!1,r.action=B(ye,"date"),r}},Le=function(e,o){return he&&u&&9===u?ccDate.inputDate(e,o):null},Pe=function(e,o){Ce===o.value.length&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCDate::keyUpDateAndroid:: setting cursor pos =",Ce),k(o,Ce))},Me=function(){return _e},Be=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe=!1,He="",Ye=!1,$e=void 0,Ue=function(e,o,n,t){var i=Be({},t);return i.error=n,i},Ge=function(e){return e.replace(/[^\d]/g,"")},Ke=function(e,o){$e=o.value;var n=N(e);xe=n===V,He=n,window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCMonth::keyDownMonth:: keyPressed=",n)},qe=function(e,o){if("string"===(void 0===$e?"undefined":Ae($e)).toLowerCase()||$e){var n=o.value;x(n)&&(n=A(n));var t,i=Ge(n);Ye=!1;var r={};window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCMonth::inputMonth:: __oldValue=",$e),window.console.log("### validationsCCMonth::inputMonth:: currentVal=",n),window.console.log("### validationsCCMonth::inputMonth:: __isValidExpiryMonth=",Ye),window.console.log("### validationsCCMonth::inputMonth:: currentValueStripped=",i));var a=i,l=Number(a);return 1===a.length&&(window.__logVal2&&window.console&&window.console.log&&(window.console.log("### FLAG!!! validationsCCMonth::inputMonth:: typedMonth.length === 1"),window.console.log("### validationsCCMonth::inputMonth:: dateNum=",l)),l>=2&&l<=9&&(a="0"+l,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCMonth::inputMonth:: ypedMonth.length === 1 new typedMonth=",a))),2===a.length&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCMonth::inputMonth:: typedMonth.length === 2"),0===l&&(a="01"),l>12&&(window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCMonth::inputMonth:: dateNum > 12"),a="0"+a.substr(0,1),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCMonth::inputMonth:: dateNum > 12 adj typedMonth=",a))),t=a,window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCMonth::inputCC:: newValue (masked)=",t," length=",t.length),r=Ue(!1,o,"",r),o.value=t,2===t.length&&(Ye=!0),r.action=B(He,"month"),r}},Xe=function(e,o){return xe&&u&&9===u?ccDate.inputMonth(e,o):null},ze=function(){return Ye},Je=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe=!1,Ze="",eo=!1,oo=void 0,no=function(e){var o=new Date(e);if(isNaN(o)){window.__logVal2&&window.console&&window.console.log&&window.console.log("###FLAG!!! validationsCCYear::getCurrentDate:: IE8 currentDate is NaN");var n=genTime.substring(0,genTime.length-1),t=n.split("T");n=t[0].split("-");var i=t[1].split(":");o=new Date(n[0],n[1]-1,n[2],i[0],i[1],i[2])}return o},to=function(e,o,n,t){var i=Je({},t);return i.error=n,i},io=function(e,o){var n=document.getElementById("expiryYear");void 0!==o&&(n.value=o)},ro=function(e){return e.replace(/[^\d]/g,"")},ao=function(e,o){oo=o.value;var n=N(e);Qe=n===V,Ze=n,window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCYear::keyDownYear:: keyPressed=",n)},lo=function(e,o){if("string"===(void 0===oo?"undefined":We(oo)).toLowerCase()||oo){var n=o.value;x(n)&&(n=A(n));var t,i=ro(n);eo=!1;var r={},a=no(genTime);window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCYear::inputYear:: __oldValue=",oo),window.console.log("### validationsCCYear::inputYear:: currentVal=",n),window.console.log("### validationsCCYear::inputYear:: __isValidExpiryYear=",eo),window.console.log("### validationsCCYear::inputYear:: currentValueStripped=",i));var l=void 0,s=void 0,c=void 0,d=1,u=i;if(window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCYear::inputYear:: typedYear=",u),u&&2===u.length){var p=a.getFullYear();if(l="20"+u,s=Number(l),(c=a.getMonth())>2&&(d=0),window.__logVal2&&window.console&&window.console.log&&(window.console.log("### validationsCCYear::inputYear:: currentYear=",p),window.console.log("### validationsCCYear::inputYear:: entered year=",s),window.console.log("### validationsCCYear::inputYear:: current monthNum=",c),window.console.log("### validationsCCYear::inputYear:: possible valid year=",p-d)),s<p-d)return(r=to(!0,o,"Expiry Date validation: card too old",r)).action=B(Ze,"year"),r;if(s>p+15)return(r=to(!0,o,"Expiry Date validation: expiry date too far in future",r)).action=B(Ze,"year"),r}t=u,window.__logVal2&&window.console&&window.console.log&&window.console.log("\n### validationsCCYear::inputYear:: newValue=",t," length=",t.length),r=to(!1,o,"",r),o.value=t,2===t.length&&(eo=!0);var w=l||"";return io(o,w),window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCYear::inputYear:: __setHiddenDateFields year=",w),r.action=B(Ze,"year"),r}},so=function(e,o){if(Qe&&u&&9===u)return ccDate.inputYear(e,o);if(u&&8===u){var n=N(e);return"leftarrow"===n||"rightarrow"===n||"shift"===n?null:ccDate.inputYear(e,o)}return null},co=function(){return eo},uo=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo=void 0,go=!1,fo="",ho=!0,yo=void 0,_o=function(e,o){if("string"===(void 0===wo?"undefined":po(wo)).toLowerCase()||wo){var n=o.value;x(n)&&(n=A(n));var t,i=Co(n),r=vo(o,i);return window.__logVal2&&window.console&&window.console.log&&(window.console.log("\n### validationsCCSecurityCode::inputCVC:: currentVal=",n),window.console.log("### validationsCCSecurityCode::inputCVC:: __isValidCvcNumber=",ho),window.console.log("### validationsCCSecurityCode::inputCVC:: currentValueStripped=",i)),t=i,o.value=t,r}},vo=function(e,o){ho=!1;var n={},i=void 0;window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCSecurityCode::testCVC:: State.cardBrand=",t.cardBrand);var r=t.cardBrand?t.cardBrand:"",a=r.indexOf(yo);switch(r=a>-1?r.substring(0,a):r,window.__logVal2&&window.console&&window.console.log&&window.console.log("### validationsCCSecurityCode::testCVC:: altered cardBrand=",r),r){case null:case"":case"card":i=/^\d{3,4}$/;break;case"amex":i=/^\d{4}$/;break;default:i=/^\d{3}$/}return i.test(o)&&(ho=!0),(n=mo(e,"",n)).action=B(fo,"cvc"),n},mo=function(e,o,n){var t=uo({},n);return t.error=o,t},Co=function(e){return e.replace(/[^\d]/g,"")},bo={keyDownCVC:function(e,o){wo=o.value;var n=N(e);go=n===V,fo=n},inputCVC:_o,testCVC:vo,keyUpCVCNumberIE:function(e,o){if(go&&u&&9===u)return _o(0,o);if(u&&8===u){var n=N(e);return"leftarrow"===n||"rightarrow"===n||"shift"===n?null:_o(0,o)}return null},getIsValidCvcNumber:function(){return ho},setRecurringCardIndicator:function(e){yo=e}},Eo=function(e,o,n,t){var r={},a=E(e,i.fieldType,window.genTime,i.dfValue);window._b$dl&&window.console&&window.console.log&&window.console.log("### securedFields_interactions::__makeSecureField:: CLONE data = ",JSON.parse(JSON.stringify(a)));return!0===a.encryptionSuccess?function(){a.action="encryption",a.type=o;var e=o;"month"!==o&&"year"!==o||(e="encryptedExpiry"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(o));var n=a[i.fieldType],r=[];return r.push({type:o,encryptedFieldName:e,blob:n}),a[i.fieldType]=r,t&&(a.hasBrandInfo=!0,a.imageSrc=t.imageSrc,a.brand=t.brand,a.cvcText=t.cvcText,a.cvcRequired=t.cvcRequired,a.hideCVC=t.hideCVC),a}():function(){r.encryptionSuccess=!1;var i=!1,l=e.value.length;a.hasOwnProperty("luhn")?(i=0!==l,r.error=i?"luhn check failed":""):a.hasOwnProperty("cvc")?r.error=0===l?"":"cvc check failed":a.hasOwnProperty("date")&&(r.error=0===l?"":"date check failed"),r.action="encryption",a.hasOwnProperty("error")&&(r.error=a.error);var s=a.hasOwnProperty("date");return(a=r).type=o,s&&a.error.length?(a.errorNode=n,window._b$dl&&window.console&&window.console.log&&window.console.log("\n@@@ securedFields_interactions::encryptionError:: CLONE ERROR OBJ=",JSON.parse(JSON.stringify(a))),a):t&&t.brand&&t.brand.length?((a={}).type=o,a.hasBrandInfo=!0,a.imageSrc=t.imageSrc,a.brand=t.brand,a.cvcText=t.cvcText,a.cvcRequired=t.cvcRequired,a.hideCVC=t.hideCVC,a.action="encryption",a):void 0}()},Oo=function(e){if(window._b$dl&&_("### securedFields_interactions::handleInvalidField:: pCommObj=",e),i.fieldType===D.__HOSTED_DATE_FIELD_STR&&(t.storedEncryptedMonthObj=null),i.fieldType===D.__HOSTED_NUMBER_FIELD_STR){var o=!!t.hasValidNumberField;o&&(t.hasValidNumberField=!1,window._b$dl&&_("### handleInvalidField::handleInvalidField:: wasValidNumberField"));var n=!!t.numFieldInErrorState;n&&(t.numFieldInErrorState=!1);var a=e.brand!==t.cardBrand||""!==i.singleBrandedCard;if(!a&&!n&&!o)return;a&&(window._b$dl&&_("\n@@@ securedFields_interactions::handleInvalidField:: SETTING brand =",e.brand),t.cardBrand=e.brand)}r(e)},To=function(e,o){var n=m(e.parentNode,"#"+D.__EXPIRY_YEAR_STR),i=Eo(n,o,e);return i&&i.errorNode&&(t.fieldHasError=!0,T(t.fieldHasError)),i},So=function(e){var o=e[D.__HOSTED_DATE_FIELD_STR],n=t.storedEncryptedMonthObj[D.__HOSTED_DATE_FIELD_STR][0];o.unshift(n),r(e)},Do=function(e){var o=void 0,n=void 0,a=i.fieldType,l=i.inputEl,s=a===D.__HOSTED_NUMBER_FIELD_STR?e:null;switch(a){case D.__HOSTED_NUMBER_FIELD_STR:case D.__HOSTED_CVC_FIELD_STR:case D.__HOSTED_MONTH_FIELD_STR:if(o=Eo(l,a,null,s)){if(o.type===D.__HOSTED_NUMBER_FIELD_STR)if(o.encryptionSuccess)t.hasValidNumberField=!0,t.numFieldInErrorState=!1,o.hasBrandInfo&&(t.cardBrand=o.brand),y(e.endDigits)&&(o.endDigits=e.endDigits);else if(y(e.endDigits)&&(o.endDigits=""),o.hasBrandInfo)return window._b$dl&&window.console&&window.console.log&&window.console.log("### securedFields_interactions::handleValidField::(line:113):: Failed luhn check contains brand info encryptedObj=",o),Oo(o);S(!0),r(o)}break;case D.__HOSTED_YEAR_FIELD_STR:S(!0),(n=To(l,D.__HOSTED_YEAR_FIELD_STR))&&r(n);break;case D.__HOSTED_DATE_FIELD_STR:S(!0);var c=m(l.parentNode,"#"+D.__EXPIRY_MONTH_STR),d=Eo(c,"month",l);d&&(t.storedEncryptedMonthObj=d),(n=To(l,"year"))&&So(n)}},Io=function(e){if(window._b$dl&&window.console&&window.console.log&&window.console.log("\n@@@ securedFields_interactions::processValidationsObj:: 1 (start of fn) commObj=",e),e.hasOwnProperty("binValue")){var o={action:"binValue",binValue:e.binValue};r(o)}if(t.fieldHasError=""!==e.error,T(t.fieldHasError),S(!1),t.fieldHasError)return window._b$dl&&window.console&&window.console.log&&window.console.log("@@@ securedFields_interactions::processValidationsObj:: 3 (end of fn) errors!! fieldType=",i.fieldType),i.fieldType===D.__HOSTED_NUMBER_FIELD_STR&&(t.numFieldInErrorState=!0),void r(e);window._b$dl&&window.console&&window.console.log&&window.console.log("@@@ securedFields_interactions::processValidationsObj:: 4 (past errors, checking field validity)"),No(i.fieldType)?Do(e):Oo(e)},No=function(e){switch(e){case D.__HOSTED_NUMBER_FIELD_STR:if(we())return!0;break;case D.__HOSTED_DATE_FIELD_STR:if(Me())return!0;break;case D.__HOSTED_CVC_FIELD_STR:if(bo.getIsValidCvcNumber())return!0;break;case D.__HOSTED_MONTH_FIELD_STR:if(ze())return!0;break;case D.__HOSTED_YEAR_FIELD_STR:if(co())return!0}return!1},Ro=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}();var ko=void 0,Vo=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),ko=i.fieldType,this.elem=null,this.iosClick=!1,this.iosFocus=!1,this.isActiveIECutEvent=!1,this.isComposing=!1,this.wasComposing=!1}return Ro(e,[{key:"init",value:function(){O(this.elem,"keydown",this.onKeyDown.bind(this),!1),O(this.elem,"input",this.onInput.bind(this),!1),O(this.elem,"compositionstart",this.onCompositionStart.bind(this),!1),O(this.elem,"compositionend",this.onCompositionEnd.bind(this),!1),d&&O(this.elem,"keyup",this.keyUpAndroid.bind(this),!1),u&&u<=9&&(O(this.elem,"keyup",this.keyUpIE.bind(this),!1),O(this.elem,"cut",this.cutIE.bind(this),!1),O(document,"selectionchange",this.selectionChangeIE.bind(this),!1)),p&&document.addEventListener("touchstart",function(e){r({action:"click"})}),O(this.elem,"focus",this.onFocus.bind(this),!1),O(this.elem,"blur",this.onBlur.bind(this),!1)}},{key:"onCompositionStart",value:function(e){this.isComposing=!0,S(!1)}},{key:"onCompositionEnd",value:function(e){this.isComposing=!1,w||10===u||u&&u>11?this.wasComposing=!0:this.onInput(e,!0)}},{key:"cutIE",value:function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isActiveIECutEvent=!0;var t=this;setTimeout(function(){var i=o(e,t.elem,n);t.processCommObj(i),t.isActiveIECutEvent=!1},0)}},{key:"selectionChangeIE",value:function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.isActiveIECutEvent){var t=document.activeElement;if(t===this.elem&&""===t.value){window._b$dl&&_("### InputBase::,",ko,"selectionChangeIE:: EMPTY STRING");var i=o(e,this.elem,n);this.processCommObj(i)}}}},{key:"touchStart_iOS",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::touchStart_iOS:: "),this.iosClick=!1,this.iosFocus=!1}},{key:"touchEnd_iOS",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::touchEnd_iOS:: ");var o=this;setTimeout(function(){o.iosClick||(window.__logIOSEvents&&_("### InputBase::",ko,"::touchEnd_iOS:: forcing click event"),o.mouseUp_iOS(),o.click_iOS(e))},400)}},{key:"mouseDown_iOS",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::mouseDown_iOS:: "),this.iosFocus=!1}},{key:"mouseUp_iOS",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::mouseUp_iOS:: "),this.iosFocus?window.__logIOSEvents&&_("### InputBase::",ko,"::mouseUp_iOS:: focus set - so do nothing"):(window.__logIOSEvents&&_("### InputBase::",ko,"::mouseUp_iOS:: no focus set - so set focus"),this.onFocus())}},{key:"click_iOS",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,'::click_iOS:: send "click" postMessage'),this.iosClick=!0,r({action:"click"})}},{key:"onFocus",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::onFocus:: this.elem=",this.elem),this.iosFocus=!0,t.hasFocus=!0,r({action:"focus",focus:!0})}},{key:"onBlur",value:function(e){window.__logIOSEvents&&_("### InputBase::",ko,"::onBlur:: this.elem=",this.elem),t.hasFocus=!1,r({action:"focus",focus:!1})}},{key:"checkIncompleteField",value:function(e){if(this.elem.value.length&&!e()&&!C(this.elem,"js-chckt-input-field-error")){this.processCommObj({error:"incomplete field",action:"blur"})}}},{key:"processCommObj",value:function(e){e&&Io(e)}}]),e}(),Fo=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),jo=function e(o,n,t){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,n);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,n,t)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(t):void 0};function Lo(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var Po=function(e){function o(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Lo(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),n=document.getElementById(D.__HOSTED_DATE_FIELD_STR);return n.parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_MONTH_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_YEAR_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__EXPIRY_MONTH_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__EXPIRY_YEAR_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_CVC_FIELD_STR)).parentNode.removeChild(n),e.elem=document.getElementById(D.__HOSTED_NUMBER_FIELD_STR),e.elem.style.display="block",e.cardGroupTypes=i.cardGroupTypes,e.init(),Lo(e,e.elem)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,Vo),Fo(o,[{key:"onKeyDown",value:function(e){se(e,this.elem)}},{key:"onInput",value:function(e,n){if(!this.isComposing){var t=n;this.wasComposing&&(this.wasComposing=!1,t=!0);var i=ce(e,this.elem,this.cardGroupTypes,t);jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,i)}}},{key:"keyUpAndroid",value:function(e){ue(e,this.elem,this.cardGroupTypes)}},{key:"keyUpIE",value:function(e){var n=de(e,this.elem,this.cardGroupTypes);jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}},{key:"cutIE",value:function(e){jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"cutIE",this).call(this,e,ce,this.cardGroupTypes)}},{key:"selectionChangeIE",value:function(e){jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectionChangeIE",this).call(this,e,ce,this.cardGroupTypes)}},{key:"onBlur",value:function(e){jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"onBlur",this).call(this,e),this.doLuhnCheck(),jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"checkIncompleteField",this).call(this,we)}},{key:"doLuhnCheck",value:function(){var e=pe(this.elem,this.cardGroupTypes);e&&e.error.length&&jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,e)}}]),o}(),Mo=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),Bo=function e(o,n,t){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,n);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,n,t)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(t):void 0};function Ao(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var xo=function(e){function o(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Ao(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),n=document.getElementById(D.__HOSTED_NUMBER_FIELD_STR);return n.parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_CVC_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_MONTH_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_YEAR_FIELD_STR)).parentNode.removeChild(n),e.elem=document.getElementById(D.__HOSTED_DATE_FIELD_STR),e.elem.style.display="block",e.init(),Ao(e,e.elem)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,Vo),Mo(o,[{key:"onKeyDown",value:function(e){Fe(e,this.elem)}},{key:"onInput",value:function(e){if(!this.isComposing){var n=je(e,this.elem);Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}}},{key:"keyUpAndroid",value:function(e){Pe(e,this.elem)}},{key:"keyUpIE",value:function(e){var n=Le(e,this.elem);Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}},{key:"cutIE",value:function(e){Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"cutIE",this).call(this,e,je)}},{key:"selectionChangeIE",value:function(e){Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectionChangeIE",this).call(this,e,je)}},{key:"onBlur",value:function(e){Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"onBlur",this).call(this,e),Bo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"checkIncompleteField",this).call(this,Me)}}]),o}(),Ho=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),Yo=function e(o,n,t){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,n);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,n,t)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(t):void 0};function $o(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var Uo=function(e){function o(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=$o(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),n=document.getElementById(D.__HOSTED_NUMBER_FIELD_STR);return n.parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_DATE_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_YEAR_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__EXPIRY_MONTH_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__EXPIRY_YEAR_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_CVC_FIELD_STR)).parentNode.removeChild(n),e.elem=document.getElementById(D.__HOSTED_MONTH_FIELD_STR),e.elem.style.display="block",e.init(),$o(e,e.elem)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,Vo),Ho(o,[{key:"onKeyDown",value:function(e){Ke(e,this.elem)}},{key:"onInput",value:function(e){if(!this.isComposing){var n=qe(e,this.elem);Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}}},{key:"keyUpAndroid",value:function(e){}},{key:"keyUpIE",value:function(e){var n=Xe(e,this.elem);Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}},{key:"cutIE",value:function(e){Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"cutIE",this).call(this,e,qe)}},{key:"selectionChangeIE",value:function(e){Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectionChangeIE",this).call(this,e,qe)}},{key:"onBlur",value:function(e){Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"onBlur",this).call(this,e),Yo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"checkIncompleteField",this).call(this,ze)}}]),o}(),Go=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),Ko=function e(o,n,t){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,n);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,n,t)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(t):void 0};function qo(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var Xo=function(e){function o(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=qo(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),n=document.getElementById(D.__HOSTED_NUMBER_FIELD_STR);return n.parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_DATE_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_MONTH_FIELD_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__EXPIRY_MONTH_STR)).parentNode.removeChild(n),(n=document.getElementById(D.__HOSTED_CVC_FIELD_STR)).parentNode.removeChild(n),e.elem=document.getElementById(D.__HOSTED_YEAR_FIELD_STR),e.elem.style.display="block",e.init(),qo(e,e.elem)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,Vo),Go(o,[{key:"onKeyDown",value:function(e){ao(e,this.elem)}},{key:"onInput",value:function(e){if(!this.isComposing){var n=lo(e,this.elem);Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}}},{key:"keyUpAndroid",value:function(e){}},{key:"keyUpIE",value:function(e){var n=so(e,this.elem);Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}},{key:"cutIE",value:function(e){Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"cutIE",this).call(this,e,lo)}},{key:"selectionChangeIE",value:function(e){Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectionChangeIE",this).call(this,e,lo)}},{key:"onBlur",value:function(e){Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"onBlur",this).call(this,e),Ko(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"checkIncompleteField",this).call(this,co)}}]),o}(),zo=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),Jo=function e(o,n,t){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,n);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,n,t)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(t):void 0};function Wo(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var Qo=function(e){function o(e){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var n=Wo(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),t=document.getElementById(D.__HOSTED_NUMBER_FIELD_STR);return t.parentNode.removeChild(t),(t=document.getElementById(D.__HOSTED_DATE_FIELD_STR)).parentNode.removeChild(t),(t=document.getElementById(D.__HOSTED_MONTH_FIELD_STR)).parentNode.removeChild(t),(t=document.getElementById(D.__HOSTED_YEAR_FIELD_STR)).parentNode.removeChild(t),(t=document.getElementById(D.__EXPIRY_MONTH_STR)).parentNode.removeChild(t),(t=document.getElementById(D.__EXPIRY_YEAR_STR)).parentNode.removeChild(t),n.elem=document.getElementById(D.__HOSTED_CVC_FIELD_STR),n.elem.style.display="block",n.elem.setAttribute("aria-required",e),n.init(),Wo(n,n.elem)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,Vo),zo(o,[{key:"onKeyDown",value:function(e){bo.keyDownCVC(e,this.elem)}},{key:"onInput",value:function(e){if(!this.isComposing){var n=bo.inputCVC(e,this.elem);Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}}},{key:"keyUpAndroid",value:function(e){}},{key:"keyUpIE",value:function(e){var n=bo.keyUpCVCNumberIE(e,this.elem);Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"processCommObj",this).call(this,n)}},{key:"cutIE",value:function(e){Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"cutIE",this).call(this,e,bo.inputCVC)}},{key:"selectionChangeIE",value:function(e){Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectionChangeIE",this).call(this,e,bo.inputCVC)}},{key:"onBlur",value:function(e){Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"onBlur",this).call(this,e),Jo(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"checkIncompleteField",this).call(this,bo.getIsValidCvcNumber)}}]),o}(),Zo=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on={background:"background",color:"color",display:"display",font:"font",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontSmoothing:"font-smoothing",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontVariantAlternates:"font-variant-alternates",fontVariantCaps:"font-variant-caps",fontVariantEastAsian:"font-variant-east-asian",fontVariantLigatures:"font-variant-ligatures",fontVariantNumeric:"font-variant-numeric",fontWeight:"font-weight",letterSpacing:"letter-spacing",lineHeight:"line-height",mozOsxFontSmoothing:"moz-osx-font-smoothing",mozTransition:"moz-transition",outline:"outline",opacity:"opacity",padding:"padding",textAlign:"text-align",textShadow:"text-shadow",transition:"transition",webkitFontSmoothing:"webkit-font-smoothing",webkitTransition:"webkit-transition",wordSpacing:"word-spacing"},nn={base:".input-field",error:".chckt-input-field--error",validated:".chckt-input-field--validated",placeholder:{0:".input-field::placeholder",1:".input-field::-webkit-input-placeholder",2:".input-field:placeholder-shown"},"::msclear":{0:".input-field::ms-clear"}},tn=function(e){return!function(e){var o=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,n=!1;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if(i)for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];!0===o.test(a)&&(n=!0)}}return!0===n&&(_b$dl&&window.console&&window.console.log&&window.console.log("@@@ secureFields::checkForURLS:: URL HAS BEEN FOUND"),!0)}(e)},rn=function(e){return function(o){for(var n=Object.keys(o),t=0;t<n.length;t++){var i=n[t],r=[],a=Object.keys(o[i]),l=[];for(var s in o[i])o[i].hasOwnProperty(s)&&l.push(o[i][s]);for(var c=0;c<a.length;c++){var d=a[c],u=l[c],p=on[d];if(p){var w=p+":"+u+";";r.push(w)}else window._b$dl&&window.console&&window.console.log&&window.console.log("@@@ secureFields::renderStyles:: This style value is not accepted: ",d)}if(nn[i]&&r){var g=r.join("");e(g,nn[i],i)}}}},an=function(e){var o=document.createElement("style");return o.setAttribute("data-styling-key",e),o.appendChild(document.createTextNode("")),document.head.appendChild(o),o.sheet},ln=function(e,o,n){if("object"===(void 0===o?"undefined":en(o))){for(var t in o)if(o[t]&&e.insertRule)try{e.insertRule(o[t]+" {"+n+"}",0)}catch(e){}}else if(e.insertRule)try{e.insertRule(o+"{"+n+"}",0)}catch(e){}},sn=rn(function(e,o,n){var t=an(n);ln(t,o,e)}),cn=rn(function(e,o,n){var t=dn(n);t?un(t):t=an(n),ln(t,o,e)}),dn=function(e){return m(document,'[data-styling-key="'+e+'"]').sheet},un=function(e){for(var o=e.cssRules.length,n=0;n<o;n++)e.deleteRule(0)},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Zo({base:{},error:{},validated:{},placeholder:{}},e);tn(o)&&sn(o)},wn=function(e){tn(e)&&cn(e)},gn=void 0,fn=void 0,hn=function(e){var o=e+e.substr(0,1);gn=o.substr(0,4),fn=gn.substr(0,3)},yn=function(e,o,n){o===D.__HOSTED_CVC_FIELD_STR&&hn(e.placeholder||""),n&&n.hasOwnProperty(o)&&(e.placeholder=n[o].toString(),e.setAttribute("aria-placeholder",n[o].toString()),o===D.__HOSTED_CVC_FIELD_STR&&n.hasOwnProperty(D.__HOSTED_CVC_FIELD_STR)&&hn(n[o].toString()))},_n=function(e,o){if("amex"===o)return e.placeholder=gn,void e.setAttribute("aria-placeholder",gn);e.placeholder=fn,e.setAttribute("aria-placeholder",fn)},vn=["label"],mn=function(e,o,n){n&&(n.hasOwnProperty("lang")&&document.getElementsByTagName("html")[0].setAttribute("lang",n.lang.toString()),n.hasOwnProperty(o)&&Object.keys(n[o]).forEach(function(t){if(vn.includes(t)){var i=n[o][t].toString();e.setAttribute("aria-label",i)}}))},Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn=function(e){var o=void 0,n=!1;if(!0===e.sfLogAtStart&&(window._b$dl=!0),e.hasOwnProperty("txVariant")&&e.hasOwnProperty("fieldType")&&e.hasOwnProperty("cardGroupTypes")&&e.hasOwnProperty("sfLogAtStart")&&e.hasOwnProperty("numKey")){switch(t.txVariant=e.txVariant,e.recurringCardIndicator&&(i.recurringCardIndicator=e.recurringCardIndicator),i.fieldType=e.fieldType,i.numKey=e.numKey,i.cardGroupTypes=function(e,o){var n=e,r=o.slice(),a="card"==n,l=a&&1===r.length;if(!a||l){l&&(n=r[0]),r=[n],t.cardBrand=n;var s=n.indexOf(i.recurringCardIndicator);i.singleBrandedCard=s>-1?n.substring(0,s):n}return r=r.map(function(e){var o=e.indexOf(i.recurringCardIndicator);return o>-1?e.substring(0,o):e})}(t.txVariant,e.cardGroupTypes),window._b$dl&&(_("### handleConfigMessage::handleConfigMessage:: config.cardGroupTypes=",i.cardGroupTypes),_("### handleConfigMessage::handleConfigMessage:: state.txVariant=",t.txVariant),_("### handleConfigMessage::handleConfigMessage:: csfCommObj.fieldType=",e.fieldType),_("### handleConfigMessage::handleConfigMessage:: csfCommObj.isSingleSF=",e.isSingleSF)),e.fieldType){case"encryptedCardNumber":o=new Po;break;case"encryptedExpiryDate":o=new xo;break;case"encryptedSecurityCode":o=new Qo(e.cvcRequired);break;case"encryptedExpiryMonth":o=new Uo;break;case"encryptedExpiryYear":o=new Xo}i.inputEl=o;var a=Cn(adyen.createEncryption);adyen&&adyen.cse&&adyen.cse.available&&"function"===a&&(n=!0),window._b$dl&&_("### handleConfigMessage::handleConfigMessage:: hasEncryption=",n),n||v("WARNING: securedFields:: the encryption algorithm is not present. It will not be possible to encrypt input fields");if(n){var l=g(),s=void 0,c=void 0,d=void 0;e.fieldType===D.__HOSTED_DATE_FIELD_STR||e.fieldType===D.__HOSTED_YEAR_FIELD_STR?(d=document.getElementById(D.__EXPIRY_YEAR_STR),s=b(d,l,!0),e.fieldType===D.__HOSTED_DATE_FIELD_STR&&(c=document.getElementById(D.__EXPIRY_MONTH_STR),s=b(c,l,!0))):s=b(o,l,!0),e.fieldType===D.__HOSTED_NUMBER_FIELD_STR&&"function"==typeof s.monitor&&s.monitor("number",o)}pn(e.pmConfig.sfStyles),yn(o,e.fieldType,e.pmConfig.placeholders),mn(o,e.fieldType,e.pmConfig.ariaLabels),e.fieldType===D.__HOSTED_CVC_FIELD_STR&&_n(o,t.txVariant),!0===e.sfLogAtStart&&(window._b$dl=!1),n&&r({action:"config"})}else window.console&&window.console.warn&&window.console.warn("\nWARNING: securedFields:: postMessage config data is incorrect: type 3")},En=function(e){return Number(e)===i.numKey||(window.console&&window.console.warn&&window.console.warn("WARNING: securedFields:: postMessage special data is incorrect: type 5"),!1)},On=function(e){return e.fireEvent=function(e,o){var n=void 0;try{n=new Event(o)}catch(t){if(!document.createEvent)return void e.fireEvent("on"+o);(n=document.createEvent("Event")).initEvent(o,!1,!1)}e.dispatchEvent(n)},e},Tn=function(e){var o=i.inputEl,n={};On(n),e.hasOwnProperty("txVariant")&&e.hasOwnProperty("fieldType")&&e.hasOwnProperty("numKey")&&Sn(e)?En(e.numKey)&&(e.focus&&(window._b$dl&&_("### handleSpecialMessage::handleSpecialMessage:: FOCUS event pFieldType=",e.fieldType),document.getElementById(e.fieldType).focus()),e.click&&function(e){var o=i.inputEl,n={};if(On(n),window.__logIOSEvents&&_("\n### handleClickMessage::handleClickMessage:: fieldType=",i.fieldType,"hasFocus=",t.hasFocus,"txVariant=",t.txVariant),i.fieldType===e.fieldType)if(t.hasFocus){var r=o.value,a=R(o);o.value=r,k(o,a),window.__logIOSEvents&&_("### handleClickMessage::handleClickMessage:: Field types match, has focus - RESET VALUE & SET CARET POS caretPos=",a),window.__logIOSEvents&&_("\n")}else window.__logIOSEvents&&_("### handleClickMessage::handleClickMessage:: Field types match BUT DOES'T have focus - FIRE FOCUS EVENT\n"),n.fireEvent(o,"focus");else t.hasFocus?(window.__logIOSEvents&&_("### handleClickMessage::handleClickMessage:: Field types DON'T match, BUT DOES have focus - DO SOMETHING!\n"),n.fireEvent(o,"blur"),t.hasFocus=!1,o.disabled=!0,setTimeout(function(){o.disabled=!1},10)):window.__logIOSEvents&&_("### handleClickMessage::handleClickMessage:: Field types DON'T match, BUT DOESN'T have focus - DO NOTHING\n")}(e),e.styleObject&&wn(e.styleObject),e.brand&&function(e){if("card"===t.txVariant){var o=i.inputEl;if(e.hideCVC&&!t.hideCVC&&(t.hideCVC=!0,o.style.display="none"),!e.hideCVC&&t.hideCVC&&(t.hideCVC=!1,o.style.display="block"),!e.hasOwnProperty("cvcRequired"))throw new Error("securedFields no cvcRequired property passed with brand change message");i.inputEl.setAttribute("aria-required",e.cvcRequired),t.cardBrand=e.brand,window._b$dl&&_("### handleBrandMessage:: state.cardBrand=",t.cardBrand),_n(o,e.brand);var n=null;o&&o.value.length>2&&(n=bo.testCVC(o,o.value)),n&&Io(n)}}(e),e.setValue&&(o.value=e.setValue,n.fireEvent(o,"paste"),n.fireEvent(o,"input")),e.hasOwnProperty("dfValue")&&(i.dfValue=e.dfValue),e.hasOwnProperty("_b$dl")&&(window._b$dl=e._b$dl)):window.console&&window.console.warn&&window.console.warn("\nWARNING: securedFields:: postMessage special data is incorrect: type 4")},Sn=function(e){return!!(e.hasOwnProperty("focus")||e.hasOwnProperty("brand")||e.hasOwnProperty("setValue")||e.hasOwnProperty("_b$dl")||e.hasOwnProperty("styleObject")||e.hasOwnProperty("click")||e.hasOwnProperty("dfValue"))},Dn=function(e){if(window._b$dl&&(_("### messageReceiver::postMessageReceiver:: event.origin =",e.origin),_("### messageReceiver::postMessageReceiver:: permitted origin =",origin)),t.eventSource=e.source,t.eventOrigin=e.origin||e.originalEvent.origin,t.eventOrigin===origin)if(t.eventSource!==window)if("string"==typeof e.data){var o=void 0;try{o=JSON.parse(e.data)}catch(e){return void(window.console&&window.console.warn&&window.console.warn("\nWARNING: securedFields:: postMessage config data is incorrect: type 2"))}Sn(o)?Tn(o):bn(o)}else window.console&&window.console.warn&&window.console.warn("\nWARNING: securedFields:: postMessage config data is incorrect: type 1");else window.console&&window.console.warn&&window.console.warn("\nWARNING: securedFields:: postMessage source is incorrect: type 0")},In=function(){if(w||u&&u<=11){var e=m(document,"#shiftTabField");e.setAttribute("tabindex",0),O(e,"focus",function(e){r({action:"shifttab"})})}},Nn=function(){(w||u&&u<=11)&&O(window,"focus",function(e){m(document,"#"+i.fieldType).focus()}),setTimeout(In,0)},Rn=function(){window.origin=window.origin||origin,window.originKey=window.originKey||originKey,window.genTime=window.genTime||genTime,window.checkoutShopperUrl=window.checkoutShopperUrl||checkoutShopperUrl;var e,o=document.location.origin||document.location.protocol+"//"+document.location.host,n=o+document.location.pathname;window.checkoutShopperUrl.indexOf("-live")>-1&&-1===window.origin.indexOf("https")&&window.console&&window.console.error&&window.console.error("ERROR: page asking for SecuredFields is not using https, origin=",window.origin),(e=window.checkoutShopperUrl+"assets/html/"+window.originKey+"/securedFields.2.1.2.html")===n?(window.addEventListener?window.addEventListener("message",Dn,!1):window.attachEvent("onmessage",Dn),Nn()):window.console&&window.console.error&&window.console.error("ERROR: sfInit:: Invalid hosting of SecuredFields file.  Document origin: ",o,"Permitted src=",e,"Actual src=",n)};n(2),n(1),Rn()},function(e,o){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,o){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0})},function(e,o){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,o){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),t=n.length>>>0;if(0===t)return!1;var i=0|o,r=Math.max(i>=0?i:t-Math.abs(i),0);function a(e,o){return e===o||"number"==typeof e&&"number"==typeof o&&isNaN(e)&&isNaN(o)}for(;r<t;){if(a(n[r],e))return!0;r++}return!1}})},function(e,o,n){e.exports=n(0)}]);
    /* THE END */
})( this );
